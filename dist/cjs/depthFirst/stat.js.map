{"version":3,"sources":["stat.js"],"sourcesContent":["const fsCompat = require('../fs-compat');\n\nfunction ensureStat(iterator, entry, callback) {\n  if (entry.stats) return callback();\n\n  const stat = iterator.options.lstat ? fsCompat.lstat : fsCompat.stat;\n  return stat(entry.fullPath, iterator.options.stat, function statCallback(err, stats) {\n    if (err) return callback(err);\n    entry.stats = stats;\n    callback();\n  });\n}\n\nmodule.exports = function stat(iterator, entry, callback) {\n  ensureStat(iterator, entry, function ensureStatCallback(err) {\n    if (err) return callback(err);\n    if (!entry.stats.isSymbolicLink()) return callback();\n    fsCompat.lstatReal(entry.fullPath, iterator.options.stat, function lstatRealCallback(err, realStats) {\n      if (err) return callback(err);\n      entry.realStats = realStats;\n      callback();\n    });\n  });\n};\n"],"names":["fsCompat","require","ensureStat","iterator","entry","callback","stats","stat","options","lstat","fullPath","statCallback","err","module","exports","ensureStatCallback","isSymbolicLink","lstatReal","lstatRealCallback","realStats"],"mappings":";AAAA,IAAMA,WAAWC,QAAQ;AAEzB,SAASC,WAAWC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ;IAC3C,IAAID,MAAME,KAAK,EAAE,OAAOD;IAExB,IAAME,OAAOJ,SAASK,OAAO,CAACC,KAAK,GAAGT,SAASS,KAAK,GAAGT,SAASO,IAAI;IACpE,OAAOA,KAAKH,MAAMM,QAAQ,EAAEP,SAASK,OAAO,CAACD,IAAI,EAAE,SAASI,aAAaC,GAAG,EAAEN,KAAK;QACjF,IAAIM,KAAK,OAAOP,SAASO;QACzBR,MAAME,KAAK,GAAGA;QACdD;IACF;AACF;AAEAQ,OAAOC,OAAO,GAAG,SAASP,KAAKJ,QAAQ,EAAEC,KAAK,EAAEC,QAAQ;IACtDH,WAAWC,UAAUC,OAAO,SAASW,mBAAmBH,GAAG;QACzD,IAAIA,KAAK,OAAOP,SAASO;QACzB,IAAI,CAACR,MAAME,KAAK,CAACU,cAAc,IAAI,OAAOX;QAC1CL,SAASiB,SAAS,CAACb,MAAMM,QAAQ,EAAEP,SAASK,OAAO,CAACD,IAAI,EAAE,SAASW,kBAAkBN,GAAG,EAAEO,SAAS;YACjG,IAAIP,KAAK,OAAOP,SAASO;YACzBR,MAAMe,SAAS,GAAGA;YAClBd;QACF;IACF;AACF"}